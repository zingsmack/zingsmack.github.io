<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8"/>
  <meta name="viewport" content="width=device-width,initial-scale=1"/>
  <title>Under Renovations</title>
  <style>
    /* ─── Global & Reset ───────────────────────── */
    html,body { margin:0; padding:0; width:100%; height:100%; overflow:hidden; background:#111; }
    canvas { position:absolute; top:0; left:0; }

    /* ─── Overlay & Text ───────────────────────── */
    .overlay {
      position: absolute;
      top:50%; left:50%;
      transform: translate(-50%,-50%);
      cursor: none;
      transition: width .3s ease, height .3s ease, padding .3s ease;
    }
    .text {
      font-family: 'Segoe UI', sans-serif;
      color: #fff;
      text-shadow: 0 2px 6px rgba(0,0,0,0.7);
      white-space: nowrap;
      pointer-events: none;
      transition: font-size .1s ease;
    }

    /* ─── SVG Filter ───────────────────────────── */
    svg { position:absolute; width:0; height:0; }
  </style>
</head>
<body>

  <!-- SVG warp filter -->
  <svg>
    <filter id="warpFilter">
      <feTurbulence id="turb" type="turbulence" baseFrequency="0.02 0.02" numOctaves="3" seed="1" result="noise"/>
      <feDisplacementMap in="SourceGraphic" in2="noise" scale="10" xChannelSelector="R" yChannelSelector="G"/>
    </filter>
  </svg>

  <!-- blob background -->
  <canvas id="bg"></canvas>

  <!-- overlay text -->
  <div class="overlay" id="overlay">
    <div class="text" id="text">LEONLIII is doing renovations</div>
  </div>

  <script>
    // ─── Blob background ─────────────────────────
    const canvas = document.getElementById('bg'),
          ctx    = canvas.getContext('2d');
    let W, H;
    function resize(){ W=canvas.width=innerWidth; H=canvas.height=innerHeight; }
    addEventListener('resize', resize); resize();
    const blobs = Array.from({length:6}, ()=>{
      return {
        x:Math.random()*W, y:Math.random()*H,
        r:200+Math.random()*200,
        phase:Math.random()*Math.PI*2,
        speed:0.0005+Math.random()*0.001
      };
    });
    function draw(t){
      ctx.clearRect(0,0,W,H);
      blobs.forEach((b,i)=>{
        const tt = t*b.speed + b.phase;
        const rad = b.r + Math.sin(tt)*b.r*0.3;
        const x = b.x + Math.cos(tt*1.3)*100;
        const y = b.y + Math.sin(tt*1.1)*100;
        const grad = ctx.createRadialGradient(x,y,rad*0.2,x,y,rad);
        const hue  = (t*0.02 + i*60) % 360;
        grad.addColorStop(0, `hsla(${hue},70%,60%,0.6)`);
        grad.addColorStop(1, `hsla(${(hue+60)%360},80%,40%,0)`);
        ctx.beginPath();
        ctx.fillStyle = grad;
        ctx.arc(x,y,rad,0,2*Math.PI);
        ctx.fill();
      });
      requestAnimationFrame(draw);
    }
    requestAnimationFrame(draw);

    // ─── Dynamic Text & Lens Distortion ─────────
    const overlay = document.getElementById('overlay'),
          textEl  = document.getElementById('text'),
          turb    = document.getElementById('turb'),
          disp    = document.querySelector('feDisplacementMap');

    overlay.addEventListener('mousemove', e => {
      const mx = e.clientX, my = e.clientY;
      const pw = window.innerWidth, ph = window.innerHeight;

      // 1) Resize text: vary font-size between 8vw and 25vw
      const sizeX = 8 + (mx / pw) * 17;  // 8 → 25
      const sizeY = 8 + (my / ph) * 17;
      // combine both for a warped effect
      textEl.style.fontSize = `${(sizeX + sizeY)/2}vw`;

      // 2) Update SVG turbulence based on cursor pos
      const bf1 = 0.005 + (mx / pw) * 0.08;
      const bf2 = 0.005 + (my / ph) * 0.08;
      turb.setAttribute('baseFrequency', `${bf1} ${bf2}`);
      turb.setAttribute('seed', Math.floor((mx+my)/30) % 1000);

      // 3) Update displacement scale (strength of warp)
      const scale = 5 + (mx / pw) * 45;
      disp.setAttribute('scale', scale);

      // 4) Apply filter to overlay
      overlay.style.filter = 'url(#warpFilter)';

      // 5) Ensure overlay fills screen for full effect
      overlay.style.top = '0';
      overlay.style.left = '0';
      overlay.style.width = '100vw';
      overlay.style.height = '100vh';
      overlay.style.transform = 'none';
      overlay.style.padding = '0';
    });

    overlay.addEventListener('mouseleave', () => {
      // Reset to center when not hovering
      overlay.style.filter = 'none';
      overlay.style.top = '50%';
      overlay.style.left = '50%';
      overlay.style.transform = 'translate(-50%, -50%)';
      overlay.style.width = 'auto';
      overlay.style.height = 'auto';
      overlay.style.padding = '1rem';
      textEl.style.fontSize = '8vw';  // reset to minimum
    });
  </script>
</body>
</html>
